ONLINESIZE 10
NETWORKSIZE 10
C 10000

CYCLE C*ONLINESIZE+1
LOGTIME ONLINESIZE
SEED 1234567890

# Transport parameters
DELAY 1
DROP 0.0
MINDELAY 1
MAXDELAY DELAY*ONLINESIZE

# Churn parameters
CHURN_MU 0
CHURN_SIGMA 1

# Overlay parameters
NEWSCAST_CACHESIZE 5
NEWSCAST_FREQ 1#ONLINESIZE/10.0

# Learner parameters
CAPACITY 20
DELAY_MEAN ONLINESIZE
DELAY_VAR ONLINESIZE/10.0


#-------------------- General Simulation Properties --------------------
network.size NETWORKSIZE
simulation.endtime CYCLE
simulation.logtime LOGTIME
random.seed SEED


#-------------------- Transport layer --------------------
protocol.transport UniformRandomTransport
protocol.transport.mindelay MINDELAY
protocol.transport.maxdelay MAXDELAY

protocol.dropTransport UnreliableTransport
protocol.dropTransport.transport transport
protocol.dropTransport.drop DROP


#-------------------- Connection layer --------------------
protocol.overlay gossipLearning.overlays.ChurnableNewscast
protocol.overlay.transport dropTransport
protocol.overlay.cache NEWSCAST_CACHESIZE
protocol.overlay.baseFreq NEWSCAST_FREQ


#-------------------- Learning layer(s) --------------------
protocol.learningProtocol gossipLearning.protocols.BanditProtocol
#protocol.learningProtocol gossipLearning.protocols.KeepDiversityLearningProtocol
#protocol.learningProtocol gossipLearning.protocols.MultipleLearningProtocol
protocol.learningProtocol.linkable overlay
protocol.learningProtocol.transport dropTransport
protocol.learningProtocol.delayMean DELAY_MEAN
protocol.learningProtocol.delayVar DELAY_VAR
protocol.learningProtocol.numOfWaitingPeriods 50
protocol.learningProtocol.modelHolderName gossipLearning.modelHolders.BoundedModelHolder
protocol.learningProtocol.capacity CAPACITY
protocol.learningProtocol.modelNames gossipLearning.models.bandits.UCBModel,gossipLearning.models.bandits.UCBSZBModel


#-------------------- Initializers --------------------
init.overlayInit WireKOut
init.overlayInit.k NEWSCAST_CACHESIZE
init.overlayInit.protocol overlay

init.overlayStart peersim.extras.mj.ednewscast.EventInitializer
init.overlayStart.protocolID overlay

init.instanceLoader gossipLearning.controls.initializers.InstanceLoader
init.instanceLoader.protocol learningProtocol
init.instanceLoader.trainingFile ../res/db/iris_setosa_versicolor_train.dat
init.instanceLoader.evaluationFile ../res/db/iris_setosa_versicolor_eval.dat
init.instanceLoader.samplesPerNode 1

init.setNumberOfClassesForModels gossipLearning.controls.initializers.SetNumberOfClassesForModels
init.setNumberOfClassesForModels.protocol learningProtocol

init.learningProtocolStart gossipLearning.controls.initializers.StartMessageInitializer
init.learningProtocolStart.protocol learningProtocol
init.learningProtocolStart.delay 0


#-------------------- Define Init Sequence --------------------
include.init overlayInit overlayStart instanceLoader setNumberOfClassesForModels learningProtocolStart


#-------------------- Observers --------------------
#control.churn gossipLearning.controls.ChurnControl
#control.churn.protocol learningProtocol
#control.churn.step LOGTIME
#control.churn.size ONLINESIZE
#control.churn.mu CHURN_MU
#control.churn.sigma CHURN_SIGMA

control.prediction gossipLearning.controls.observers.PredictionObserver
control.prediction.errorComputatorClass gossipLearning.controls.observers.errorComputation.BanditErrorComputator
control.prediction.errorFunctionClass gossipLearning.controls.observers.errorComputation.MAError
control.prediction.step LOGTIME
control.prediction.protocol learningProtocol
control.prediction.format gpt

control.prediction2 gossipLearning.controls.observers.PredictionObserver
control.prediction2.errorComputatorClass gossipLearning.controls.observers.errorComputation.BanditPercComputator
control.prediction2.errorFunctionClass gossipLearning.controls.observers.errorComputation.MAError
control.prediction2.step LOGTIME
control.prediction2.protocol learningProtocol
control.prediction2.format gpt

control_communication.i2p desc
control_communication.i2p.on init.instanceLoader
control_communication.i2p.method setPredictionObserver
control_communication.i2p.param control.prediction2
